import discord
from discord.ext import commands
import asyncio
from datetime import datetime, timezone

# Configuraci√≥n del canal de avisos (cambiar por el ID de tu canal)
AVISOS_CHANNEL_ID = 1400106792821981250

class AvisoModal(discord.ui.Modal, title='üì¢ Crear Aviso Oficial'):
    def __init__(self):
        super().__init__()

    titulo = discord.ui.TextInput(
        label='üìã T√≠tulo del Aviso',
        max_length=256,
        required=True
    )
    
    descripcion = discord.ui.TextInput(
        label='üìù Descripci√≥n Completa',
        style=discord.TextStyle.paragraph,
        max_length=1800,  # Reducido para dejar espacio al formato
        required=True
    )

    async def on_submit(self, interaction: discord.Interaction):
        # Obtener el canal de avisos
        channel_id = AVISOS_CHANNEL_ID
        if channel_id is None:
            await interaction.response.send_message(
                "‚ùå **Error:** No se ha configurado el canal de avisos. "
                "Por favor, configura `AVISOS_CHANNEL_ID` en el c√≥digo.",
                ephemeral=True
            )
            return
        
        avisos_channel = interaction.guild.get_channel(channel_id)
        if avisos_channel is None:
            await interaction.response.send_message(
                "‚ùå **Error:** No se pudo encontrar el canal de avisos configurado.",
                ephemeral=True
            )
            return

        # Crear el embed del aviso con mejor est√©tica
        embed = discord.Embed(
            title= f"‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n{self.titulo.value}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ",
            description=f"\n{self.descripcion.value}\n",
            color=0x5865F2,  # Color azul Discord moderno
            timestamp=datetime.now(timezone.utc)
        )
        
        # Agregar l√≠nea decorativa y footer del servidor
        embed.add_field(
            name="‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ",
            value="",
            inline=False
        )
        
        # Footer con informaci√≥n del servidor
        embed.set_footer(
            text=f"Aviso oficial de {interaction.guild.name}",
            icon_url=interaction.guild.icon.url if interaction.guild.icon else None
        )
        
        # Thumbnail del servidor
        if interaction.guild.icon:
            embed.set_thumbnail(url=interaction.guild.icon.url)

        try:
            # Crear mensaje con mejor formato
            content = f"@everyone\n\n"
            await avisos_channel.send(content=content, embed=embed)
            
            # Responder al usuario que cre√≥ el aviso
            await interaction.response.send_message(
                f"‚úÖ **Aviso publicado exitosamente** en {avisos_channel.mention}\n"
                f"üéØ **T√≠tulo:** {self.titulo.value}",
                ephemeral=True
            )
            
        except discord.Forbidden:
            await interaction.response.send_message(
                "‚ùå **Error:** No tengo permisos para enviar mensajes en el canal de avisos.",
                ephemeral=True
            )
        except Exception as e:
            await interaction.response.send_message(
                f"‚ùå **Error inesperado:** {str(e)}",
                ephemeral=True
            )

class AdminCommands(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    # Sistema de avisos con formulario modal
    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
    @commands.command(name="aviso")
    @commands.has_permissions(manage_guild=True)
    async def crear_aviso(self, ctx):
        """Abre un formulario para crear un aviso en el canal espec√≠fico"""
        # Crear y enviar el modal
        modal = AvisoModal()
        
        # Como los comandos de texto no pueden enviar modals directamente,
        # creamos un mensaje con un bot√≥n que abre el modal
        class AvisoButton(discord.ui.View):
            def __init__(self):
                super().__init__(timeout=60)  # 60 segundos para hacer clic
            
            @discord.ui.button(
                label='Abrir Formulario', 
                style=discord.ButtonStyle.primary, 
                emoji='üìù'
            )
            async def crear_aviso_button(self, interaction: discord.Interaction, button: discord.ui.Button):
                # Verificar que solo el autor del comando pueda usar el bot√≥n
                if interaction.user != ctx.author:
                    await interaction.response.send_message(
                        "‚ùå Solo el autor del comando puede usar este bot√≥n.",
                        ephemeral=True
                    )
                    return
                
                await interaction.response.send_modal(AvisoModal())
        
        embed = discord.Embed(
            title="üéØ **Crea un aviso oficial para todo el servidor**",
            description= "‚Ä¢ El aviso se enviar√° con `@everyone`\n"
                       "‚Ä¢ Aparecer√° con el logo del servidor\n\n"
                       "üëá **Haz clic en el bot√≥n para comenzar**",
            color=0x5865F2
        )
        
        # Agregar thumbnail del servidor si existe
        if ctx.guild.icon:
            embed.set_thumbnail(url=ctx.guild.icon.url)
        
        view = AvisoButton()
        await ctx.send(embed=embed, view=view)

    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    # Comandos de moderaci√≥n b√°sica
    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
    @commands.command(name="kick")
    @commands.has_permissions(kick_members=True)
    async def kick_member(self, ctx, member: discord.Member, *, reason="No especificada"):
        """Expulsa a un miembro del servidor"""
        if member.top_role >= ctx.author.top_role:
            embed = discord.Embed(
                title="‚ùå Error",
                description="No puedes expulsar a alguien con un rol igual o superior al tuyo.",
                color=0xff0000
            )
            await ctx.send(embed=embed)
            return
        
        try:
            await member.kick(reason=f"Expulsado por {ctx.author} - {reason}")
            embed = discord.Embed(
                title="‚úÖ Usuario expulsado",
                description=f"**{member.display_name}** ha sido expulsado del servidor.",
                color=0x00ff00
            )
            embed.add_field(name="Raz√≥n", value=reason, inline=False)
            embed.add_field(name="Moderador", value=ctx.author.mention, inline=True)
            await ctx.send(embed=embed)
        except discord.Forbidden:
            embed = discord.Embed(
                title="‚ùå Sin permisos",
                description="No tengo permisos para expulsar a este usuario.",
                color=0xff0000
            )
            await ctx.send(embed=embed)

    @commands.command(name="ban")
    @commands.has_permissions(ban_members=True)
    async def ban_member(self, ctx, member: discord.Member, *, reason="No especificada"):
        """Banea a un miembro del servidor"""
        if member.top_role >= ctx.author.top_role:
            embed = discord.Embed(
                title="‚ùå Error",
                description="No puedes banear a alguien con un rol igual o superior al tuyo.",
                color=0xff0000
            )
            await ctx.send(embed=embed)
            return
        
        try:
            await member.ban(reason=f"Baneado por {ctx.author} - {reason}")
            embed = discord.Embed(
                title="üî® Usuario baneado",
                description=f"**{member.display_name}** ha sido baneado del servidor.",
                color=0xff0000
            )
            embed.add_field(name="Raz√≥n", value=reason, inline=False)
            embed.add_field(name="Moderador", value=ctx.author.mention, inline=True)
            await ctx.send(embed=embed)
        except discord.Forbidden:
            embed = discord.Embed(
                title="‚ùå Sin permisos",
                description="No tengo permisos para banear a este usuario.",
                color=0xff0000
            )
            await ctx.send(embed=embed)

    @commands.command(name="unban")
    @commands.has_permissions(ban_members=True)
    async def unban_member(self, ctx, user_id: int, *, reason="No especificada"):
        """Desbanea a un usuario por su ID"""
        try:
            user = await self.bot.fetch_user(user_id)
            await ctx.guild.unban(user, reason=f"Desbaneado por {ctx.author} - {reason}")
            
            embed = discord.Embed(
                title="‚úÖ Usuario desbaneado",
                description=f"**{user.display_name}** ha sido desbaneado del servidor.",
                color=0x00ff00
            )
            embed.add_field(name="Raz√≥n", value=reason, inline=False)
            embed.add_field(name="Moderador", value=ctx.author.mention, inline=True)
            await ctx.send(embed=embed)
        except discord.NotFound:
            embed = discord.Embed(
                title="‚ùå Usuario no encontrado",
                description="No se encontr√≥ un usuario con esa ID o no est√° baneado.",
                color=0xff0000
            )
            await ctx.send(embed=embed)
        except discord.Forbidden:
            embed = discord.Embed(
                title="‚ùå Sin permisos",
                description="No tengo permisos para desbanear usuarios.",
                color=0xff0000
            )
            await ctx.send(embed=embed)

    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    # Limpieza de mensajes
    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
    @commands.command(name="clear", aliases=["purge", "clean"])
    @commands.has_permissions(manage_messages=True)
    async def clear_messages(self, ctx, amount: int = 1000):
        """Elimina una cantidad espec√≠fica de mensajes"""
        if amount < 1 or amount > 10000:
            embed = discord.Embed(
                title="‚ùå Cantidad inv√°lida",
                description="Debes especificar un n√∫mero entre 1 y 10000.",
                color=0xff0000
            )
            await ctx.send(embed=embed)
            return
        
        try:
            deleted = await ctx.channel.purge(limit=amount + 1)  # +1 para incluir el comando
            embed = discord.Embed(
                title="üßπ Mensajes eliminados",
                description=f"Se eliminaron **{len(deleted) - 1}** mensajes.",
                color=0x00ff00
            )
            
            # Enviar confirmaci√≥n y eliminarla despu√©s de 5 segundos
            confirmation = await ctx.send(embed=embed)
            await asyncio.sleep(5)
            await confirmation.delete()
            
        except discord.Forbidden:
            embed = discord.Embed(
                title="‚ùå Sin permisos",
                description="No tengo permisos para eliminar mensajes.",
                color=0xff0000
            )
            await ctx.send(embed=embed)

    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    # Informaci√≥n del servidor
    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
    @commands.command(name="serverinfo")
    @commands.has_permissions(manage_guild=True)
    async def server_info(self, ctx):
        """Muestra informaci√≥n detallada del servidor"""
        guild = ctx.guild
        
        embed = discord.Embed(
            title=f"üìä Informaci√≥n de {guild.name}",
            color=0x00ffff,
            timestamp=datetime.now(timezone.utc)
        )
        
        embed.set_thumbnail(url=guild.icon.url if guild.icon else None)
        
        # Informaci√≥n b√°sica
        embed.add_field(name="üÜî ID", value=guild.id, inline=True)
        embed.add_field(name="üëë Propietario", value=guild.owner.mention if guild.owner else "Desconocido", inline=True)
        embed.add_field(name="üìÖ Creado", value=guild.created_at.strftime("%d/%m/%Y"), inline=True)
        
        # Estad√≠sticas de miembros
        total_members = guild.member_count
        online_members = sum(1 for member in guild.members if member.status != discord.Status.offline)
        bots = sum(1 for member in guild.members if member.bot)
        
        embed.add_field(name="üë• Miembros totales", value=total_members, inline=True)
        embed.add_field(name="üü¢ En l√≠nea", value=online_members, inline=True)
        embed.add_field(name="ü§ñ Bots", value=bots, inline=True)
        
        # Canales
        text_channels = len(guild.text_channels)
        voice_channels = len(guild.voice_channels)
        categories = len(guild.categories)
        
        embed.add_field(name="üí¨ Canales de texto", value=text_channels, inline=True)
        embed.add_field(name="üîä Canales de voz", value=voice_channels, inline=True)
        embed.add_field(name="üìÅ Categor√≠as", value=categories, inline=True)
        
        # Roles y emojis
        embed.add_field(name="üé≠ Roles", value=len(guild.roles), inline=True)
        embed.add_field(name="üòÄ Emojis", value=len(guild.emojis), inline=True)
        embed.add_field(name="üöÄ Boost Level", value=guild.premium_tier, inline=True)
        
        await ctx.send(embed=embed)

    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    # Comandos de utilidad
    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
    @commands.command(name="userinfo")
    @commands.has_permissions(manage_guild=True)
    async def user_info(self, ctx, member: discord.Member = None):
        """Muestra informaci√≥n de un usuario"""
        if member is None:
            member = ctx.author
        
        embed = discord.Embed(
            title=f"üë§ Informaci√≥n de {member.display_name}",
            color=member.color if member.color != discord.Color.default() else 0x00ffff,
            timestamp=datetime.now(timezone.utc)
        )
        
        embed.set_thumbnail(url=member.display_avatar.url)
        
        # Informaci√≥n b√°sica
        embed.add_field(name="üÜî ID", value=member.id, inline=True)
        embed.add_field(name="üìõ Nombre", value=str(member), inline=True)
        embed.add_field(name="üìÖ Cuenta creada", value=member.created_at.strftime("%d/%m/%Y"), inline=True)
        
        # Informaci√≥n del servidor
        embed.add_field(name="üì• Se uni√≥", value=member.joined_at.strftime("%d/%m/%Y"), inline=True)
        embed.add_field(name="üé≠ Rol m√°s alto", value=member.top_role.mention, inline=True)
        embed.add_field(name="ü§ñ Es bot", value="S√≠" if member.bot else "No", inline=True)
        
        await ctx.send(embed=embed)

    @commands.command(name="say")
    @commands.has_permissions(manage_messages=True)
    async def say_message(self, ctx, channel: discord.TextChannel, *, message):
        """Hace que el bot env√≠e un mensaje al canal especificado"""
        try:
            # Verificar que el bot tenga permisos para enviar mensajes en el canal destino
            if not channel.permissions_for(ctx.guild.me).send_messages:
                embed = discord.Embed(
                    title="‚ùå Sin permisos",
                    description=f"No tengo permisos para enviar mensajes en {channel.mention}.",
                    color=0xff0000
                )
                await ctx.send(embed=embed)
                return
            
            # Enviar el mensaje al canal especificado
            await channel.send(message)
            
            # Confirmar al usuario que el mensaje fue enviado
            embed = discord.Embed(
                title="‚úÖ Mensaje enviado",
                description=f"Mensaje enviado exitosamente a {channel.mention}",
                color=0x00ff00
            )
            await ctx.send(embed=embed, delete_after=5)  # Se elimina despu√©s de 5 segundos
            
            # Eliminar el comando original
            await ctx.message.delete()
            
        except discord.Forbidden:
            embed = discord.Embed(
                title="‚ùå Error de permisos",
                description="No tengo permisos suficientes para realizar esta acci√≥n.",
                color=0xff0000
            )
            await ctx.send(embed=embed)
        except Exception as e:
            embed = discord.Embed(
                title="‚ùå Error",
                description=f"Ocurri√≥ un error: {str(e)}",
                color=0xff0000
            )
            await ctx.send(embed=embed)

    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    # Comando de test para verificar que el m√≥dulo funciona
    # ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    @commands.command(name="acomandos")
    @commands.has_permissions(administrator=True)
    async def acomandos(self, ctx):
        """Comando de prueba para administradores"""
        embed = discord.Embed(
            title="Menu de Comandos de Administraci√≥n",
            color=0x00ff00,
            timestamp=datetime.now(timezone.utc)
        )
        embed.add_field(name="üìã Comandos disponibles", value=
            "üéâ **Bienvenida** - `!help_welcome`\n"
            "üìä **Niveles** - `!help_levels`\n"
            "üé® **Embeds** - `!help_embeds`\n"
            "üöÄ **Bumps** - `!help_bumps`\n"
            "üí∞ **Econom√≠a** - `!help_economia`\n"
            "‚≠ê **Rese√±as** - `!help_resenas`\n"
            "üîó **Invitaciones** - `!help_invites`\n"
            "üé´ **Tickets** - `!help_ticket`",
            inline=False
        )
        await ctx.send(embed=embed)

    @commands.command(name="help_admin")
    @commands.has_permissions(administrator=True)
    async def admin_test(self, ctx):
        """Comando de prueba para administradores"""
        embed = discord.Embed(
            title="‚úÖ M√≥dulo Admin funcionando",
            description="El m√≥dulo de administraci√≥n est√° cargado y funcionando correctamente.",
            color=0x00ff00,
            timestamp=datetime.now(timezone.utc)
        )
        embed.add_field(name="üìã Comandos disponibles", value=
            "`!kick` - Expulsar usuario\n"
            "`!ban` - Banear usuario\n"
            "`!unban` - Desbanear usuario\n"
            "`!clear` - Limpiar mensajes\n"
            "`!serverinfo` - Info del servidor\n"
            "`!userinfo` - Info de usuario\n"
            "`!say #canal` - Repetir mensaje\n"
            "`!aviso` - Crear aviso con formulario",
            inline=False
        )
        await ctx.send(embed=embed)

    @commands.Cog.listener()
    async def on_ready(self):
        print("[AdminCommands] M√≥dulo de administraci√≥n listo")

# Funci√≥n setup requerida para cargar el cog
async def setup(bot: commands.Bot):
    await bot.add_cog(AdminCommands(bot))